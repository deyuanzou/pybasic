expr   : VAR IDENTIFIER ASSIGN expr
       : cmp ((AND|OR) cmp)*
       : arith

cmp    : arith ((EE|LT|EQ|GT|LTE|GTE) arith)*
       : NOT cmp

arith  : term ((PLUS|MINUS) term)*

term   : factor ((MUL|DIV) factor)*      /* 乘除先于加减 */

factor : (PLUS|MINUS) factor
       : power

power  : atom (POW factor)*

atom   : INT|FLOAT|IDENTIFIER
       : LPAREN expr RPAREN
       : cdt
       : flp
       : dlp

cdt    : IF expr THEN expr
         (ELIF expr THEN expr)*
         (ELSE expr)?

flp  : FOR IDENTIFIER ASSIGN expr TO expr
       (STEP expr)? THEN expr

dlp  : WHILE expr THEN expr